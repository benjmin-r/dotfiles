#!/bin/sh

# NOTE: the following obviously only works on Debian/Ubuntu

function install_node() {
    sudo apt-get install -y -qq \
                        g++ \
                        make \
                        checkinstall

    src=$(mktemp -d) && cd $src
    wget -N http://nodejs.org/dist/node-latest.tar.gz
    tar xzvf node-latest.tar.gz && cd node-v*
    ./configure
    fakeroot checkinstall -y --install=no --pkgversion $(echo $(pwd) | sed -n -re's/.+node-v(.+)$/\1/p') make -j$(($(nproc)+1)) install
    sudo dpkg -i node_*
}
